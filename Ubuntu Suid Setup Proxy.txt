http_port 31335
cache deny all
hierarchy_stoplist cgi-bin ?

access_log none
cache_store_log none
cache_log /dev/null

refresh_pattern ^ftp: 1440 20% 10080
refresh_pattern ^gopher: 1440 0% 1440
refresh_pattern -i (/cgi-bin/|\?) 0 0% 0
refresh_pattern . 0 20% 4320

acl localhost src 127.0.0.1/32 ::1
acl to_localhost dst 127.0.0.0/8 0.0.0.0/32 ::1

acl SSL_ports port 1-65535
acl Safe_ports port 1-65535
acl CONNECT method CONNECT
acl siteblacklist dstdomain "/etc/squid3/blacklist.acl"
http_access allow manager localhost
http_access deny manager

http_access deny !Safe_ports

acl ip1 myip 191.102.138.3
acl ip2 myip 191.102.138.4
acl ip3 myip 191.102.138.5
acl ip4 myip 191.102.138.6
acl ip5 myip 191.102.138.7
acl ip6 myip 191.102.138.8
acl ip7 myip 191.102.138.9
acl ip8 myip 191.102.138.10
acl ip9 myip 191.102.138.11
acl ip10 myip 191.102.138.12
acl ip11 myip 191.102.138.13
acl ip12 myip 191.102.138.14
acl ip13 myip 191.102.138.15
acl ip14 myip 191.102.138.16
acl ip15 myip 191.102.138.17
acl ip16 myip 191.102.138.18
acl ip17 myip 191.102.138.19
acl ip18 myip 191.102.138.20
acl ip19 myip 191.102.138.21
acl ip20 myip 191.102.138.22
acl ip21 myip 191.102.138.23
acl ip22 myip 191.102.138.24
acl ip23 myip 191.102.138.25
acl ip24 myip 191.102.138.26
acl ip25 myip 191.102.138.27
acl ip26 myip 191.102.138.28
acl ip27 myip 191.102.138.29
acl ip28 myip 191.102.138.30
acl ip29 myip 191.102.138.31
acl ip30 myip 191.102.138.32
acl ip31 myip 191.102.138.33
acl ip32 myip 191.102.138.34
acl ip33 myip 191.102.138.35
acl ip34 myip 191.102.138.36
acl ip35 myip 191.102.138.37
acl ip36 myip 191.102.138.38
acl ip37 myip 191.102.138.39
acl ip38 myip 191.102.138.40
acl ip39 myip 191.102.138.41
acl ip40 myip 191.102.138.42
acl ip41 myip 191.102.138.43
acl ip42 myip 191.102.138.44
acl ip43 myip 191.102.138.45
acl ip44 myip 191.102.138.46
acl ip45 myip 191.102.138.47
acl ip46 myip 191.102.138.48
acl ip47 myip 191.102.138.49
acl ip48 myip 191.102.138.50
acl ip49 myip 191.102.138.51
acl ip50 myip 191.102.138.52
acl ip51 myip 191.102.138.53
acl ip52 myip 191.102.138.54
acl ip53 myip 191.102.138.55
acl ip54 myip 191.102.138.56
acl ip55 myip 191.102.138.57
acl ip56 myip 191.102.138.58
acl ip57 myip 191.102.138.59
acl ip58 myip 191.102.138.60
acl ip59 myip 191.102.138.61
acl ip60 myip 191.102.138.62
acl ip61 myip 191.102.138.63
acl ip62 myip 191.102.138.64
acl ip63 myip 191.102.138.65
acl ip64 myip 191.102.138.66
acl ip65 myip 191.102.138.67
acl ip66 myip 191.102.138.68
acl ip67 myip 191.102.138.69
acl ip68 myip 191.102.138.70
acl ip69 myip 191.102.138.71
acl ip70 myip 191.102.138.72
acl ip71 myip 191.102.138.73
acl ip72 myip 191.102.138.74
acl ip73 myip 191.102.138.75
acl ip74 myip 191.102.138.76
acl ip75 myip 191.102.138.77
acl ip76 myip 191.102.138.78
acl ip77 myip 191.102.138.79
acl ip78 myip 191.102.138.80
acl ip79 myip 191.102.138.81
acl ip80 myip 191.102.138.82
acl ip81 myip 191.102.138.83
acl ip82 myip 191.102.138.84
acl ip83 myip 191.102.138.85
acl ip84 myip 191.102.138.86
acl ip85 myip 191.102.138.87
acl ip86 myip 191.102.138.88
acl ip87 myip 191.102.138.89
acl ip88 myip 191.102.138.90
acl ip89 myip 191.102.138.91
acl ip90 myip 191.102.138.92
acl ip91 myip 191.102.138.93
acl ip92 myip 191.102.138.94
acl ip93 myip 191.102.138.95
acl ip94 myip 191.102.138.96
acl ip95 myip 191.102.138.97
acl ip96 myip 191.102.138.98
acl ip97 myip 191.102.138.99
acl ip98 myip 191.102.138.100
acl ip99 myip 191.102.138.101
acl ip100 myip 191.102.138.102
acl ip101 myip 191.102.138.103
acl ip102 myip 191.102.138.104
acl ip103 myip 191.102.138.105
acl ip104 myip 191.102.138.106
acl ip105 myip 191.102.138.107
acl ip106 myip 191.102.138.108
acl ip107 myip 191.102.138.109
acl ip108 myip 191.102.138.110
acl ip109 myip 191.102.138.111
acl ip110 myip 191.102.138.112
acl ip111 myip 191.102.138.113
acl ip112 myip 191.102.138.114
acl ip113 myip 191.102.138.115
acl ip114 myip 191.102.138.116
acl ip115 myip 191.102.138.117
acl ip116 myip 191.102.138.118
acl ip117 myip 191.102.138.119
acl ip118 myip 191.102.138.120
acl ip119 myip 191.102.138.121
acl ip120 myip 191.102.138.122
acl ip121 myip 191.102.138.123
acl ip122 myip 191.102.138.124
acl ip123 myip 191.102.138.125
acl ip124 myip 191.102.138.126

tcp_outgoing_address 191.102.138.3 ip1
tcp_outgoing_address 191.102.138.4 ip2
tcp_outgoing_address 191.102.138.5 ip3
tcp_outgoing_address 191.102.138.6 ip4
tcp_outgoing_address 191.102.138.7 ip5
tcp_outgoing_address 191.102.138.8 ip6
tcp_outgoing_address 191.102.138.9 ip7
tcp_outgoing_address 191.102.138.10 ip8
tcp_outgoing_address 191.102.138.11 ip9
tcp_outgoing_address 191.102.138.12 ip10
tcp_outgoing_address 191.102.138.13 ip11
tcp_outgoing_address 191.102.138.14 ip12
tcp_outgoing_address 191.102.138.15 ip13
tcp_outgoing_address 191.102.138.16 ip14
tcp_outgoing_address 191.102.138.17 ip15
tcp_outgoing_address 191.102.138.18 ip16
tcp_outgoing_address 191.102.138.19 ip17
tcp_outgoing_address 191.102.138.20 ip18
tcp_outgoing_address 191.102.138.21 ip19
tcp_outgoing_address 191.102.138.22 ip20
tcp_outgoing_address 191.102.138.23 ip21
tcp_outgoing_address 191.102.138.24 ip22
tcp_outgoing_address 191.102.138.25 ip23
tcp_outgoing_address 191.102.138.26 ip24
tcp_outgoing_address 191.102.138.27 ip25
tcp_outgoing_address 191.102.138.28 ip26
tcp_outgoing_address 191.102.138.29 ip27
tcp_outgoing_address 191.102.138.30 ip28
tcp_outgoing_address 191.102.138.31 ip29
tcp_outgoing_address 191.102.138.32 ip30
tcp_outgoing_address 191.102.138.33 ip31
tcp_outgoing_address 191.102.138.34 ip32
tcp_outgoing_address 191.102.138.35 ip33
tcp_outgoing_address 191.102.138.36 ip34
tcp_outgoing_address 191.102.138.37 ip35
tcp_outgoing_address 191.102.138.38 ip36
tcp_outgoing_address 191.102.138.39 ip37
tcp_outgoing_address 191.102.138.40 ip38
tcp_outgoing_address 191.102.138.41 ip39
tcp_outgoing_address 191.102.138.42 ip40
tcp_outgoing_address 191.102.138.43 ip41
tcp_outgoing_address 191.102.138.44 ip42
tcp_outgoing_address 191.102.138.45 ip43
tcp_outgoing_address 191.102.138.46 ip44
tcp_outgoing_address 191.102.138.47 ip45
tcp_outgoing_address 191.102.138.48 ip46
tcp_outgoing_address 191.102.138.49 ip47
tcp_outgoing_address 191.102.138.50 ip48
tcp_outgoing_address 191.102.138.51 ip49
tcp_outgoing_address 191.102.138.52 ip50
tcp_outgoing_address 191.102.138.53 ip51
tcp_outgoing_address 191.102.138.54 ip52
tcp_outgoing_address 191.102.138.55 ip53
tcp_outgoing_address 191.102.138.56 ip54
tcp_outgoing_address 191.102.138.57 ip55
tcp_outgoing_address 191.102.138.58 ip56
tcp_outgoing_address 191.102.138.59 ip57
tcp_outgoing_address 191.102.138.60 ip58
tcp_outgoing_address 191.102.138.61 ip59
tcp_outgoing_address 191.102.138.62 ip60
tcp_outgoing_address 191.102.138.63 ip61
tcp_outgoing_address 191.102.138.64 ip62
tcp_outgoing_address 191.102.138.65 ip63
tcp_outgoing_address 191.102.138.66 ip64
tcp_outgoing_address 191.102.138.67 ip65
tcp_outgoing_address 191.102.138.68 ip66
tcp_outgoing_address 191.102.138.69 ip67
tcp_outgoing_address 191.102.138.70 ip68
tcp_outgoing_address 191.102.138.71 ip69
tcp_outgoing_address 191.102.138.72 ip70
tcp_outgoing_address 191.102.138.73 ip71
tcp_outgoing_address 191.102.138.74 ip72
tcp_outgoing_address 191.102.138.75 ip73
tcp_outgoing_address 191.102.138.76 ip74
tcp_outgoing_address 191.102.138.77 ip75
tcp_outgoing_address 191.102.138.78 ip76
tcp_outgoing_address 191.102.138.79 ip77
tcp_outgoing_address 191.102.138.80 ip78
tcp_outgoing_address 191.102.138.81 ip79
tcp_outgoing_address 191.102.138.82 ip80
tcp_outgoing_address 191.102.138.83 ip81
tcp_outgoing_address 191.102.138.84 ip82
tcp_outgoing_address 191.102.138.85 ip83
tcp_outgoing_address 191.102.138.86 ip84
tcp_outgoing_address 191.102.138.87 ip85
tcp_outgoing_address 191.102.138.88 ip86
tcp_outgoing_address 191.102.138.89 ip87
tcp_outgoing_address 191.102.138.90 ip88
tcp_outgoing_address 191.102.138.91 ip89
tcp_outgoing_address 191.102.138.92 ip90
tcp_outgoing_address 191.102.138.93 ip91
tcp_outgoing_address 191.102.138.94 ip92
tcp_outgoing_address 191.102.138.95 ip93
tcp_outgoing_address 191.102.138.96 ip94
tcp_outgoing_address 191.102.138.97 ip95
tcp_outgoing_address 191.102.138.98 ip96
tcp_outgoing_address 191.102.138.99 ip97
tcp_outgoing_address 191.102.138.100 ip98
tcp_outgoing_address 191.102.138.101 ip99
tcp_outgoing_address 191.102.138.102 ip100
tcp_outgoing_address 191.102.138.103 ip101
tcp_outgoing_address 191.102.138.104 ip102
tcp_outgoing_address 191.102.138.105 ip103
tcp_outgoing_address 191.102.138.106 ip104
tcp_outgoing_address 191.102.138.107 ip105
tcp_outgoing_address 191.102.138.108 ip106
tcp_outgoing_address 191.102.138.109 ip107
tcp_outgoing_address 191.102.138.110 ip108
tcp_outgoing_address 191.102.138.111 ip109
tcp_outgoing_address 191.102.138.112 ip110
tcp_outgoing_address 191.102.138.113 ip111
tcp_outgoing_address 191.102.138.114 ip112
tcp_outgoing_address 191.102.138.115 ip113
tcp_outgoing_address 191.102.138.116 ip114
tcp_outgoing_address 191.102.138.117 ip115
tcp_outgoing_address 191.102.138.118 ip116
tcp_outgoing_address 191.102.138.119 ip117
tcp_outgoing_address 191.102.138.120 ip118
tcp_outgoing_address 191.102.138.121 ip119
tcp_outgoing_address 191.102.138.122 ip120
tcp_outgoing_address 191.102.138.123 ip121
tcp_outgoing_address 191.102.138.124 ip122
tcp_outgoing_address 191.102.138.125 ip123
tcp_outgoing_address 191.102.138.126 ip124

http_access deny CONNECT !SSL_ports
http_access deny siteblacklist
auth_param basic program /usr/lib/squid3/basic_ncsa_auth /etc/squid3/passwd

auth_param basic children 5
auth_param basic realm Squid proxy-caching web server
auth_param basic credentialsttl 2 hours
acl password proxy_auth REQUIRED
http_access allow localhost
http_access allow password
http_access deny all

forwarded_for off
request_header_access Allow allow all
request_header_access Authorization allow all
request_header_access WWW-Authenticate allow all
request_header_access Proxy-Authorization allow all
request_header_access Proxy-Authenticate allow all
request_header_access Cache-Control allow all
request_header_access Content-Encoding allow all
request_header_access Content-Length allow all
request_header_access Content-Type allow all
request_header_access Date allow all
request_header_access Expires allow all
request_header_access Host allow all
request_header_access If-Modified-Since allow all
request_header_access Last-Modified allow all
request_header_access Location allow all
request_header_access Pragma allow all
request_header_access Accept allow all
request_header_access Accept-Charset allow all
request_header_access Accept-Encoding allow all
request_header_access Accept-Language allow all
request_header_access Content-Language allow all
request_header_access Mime-Version allow all
request_header_access Retry-After allow all
request_header_access Title allow all
request_header_access Connection allow all
request_header_access Proxy-Connection allow all
request_header_access User-Agent allow all
request_header_access Cookie allow all
request_header_access All deny all